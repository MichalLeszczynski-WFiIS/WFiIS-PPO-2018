cmake_minimum_required(VERSION 3.7)

PROJECT( Lab08 )
ADD_SUBDIRECTORY( src )
ADD_SUBDIRECTORY( include )
include_directories(${CMAKE_SOURCE_DIR} "include")
file(GLOB SOURCE.cpp RELATIVE ${CMAKE_CURRENT_LIST_DIR} "src/*.cpp")
file(GLOB HEADERS.h RELATIVE ${CMAKE_CURRENT_LIST_DIR} "include/*.h")
set(CMAKE_DISABLE_IN_SOURCE_BUILD ON)
set(CMAKE_DISABLE_SOURCE_CHANGES ON)

if("${CMAKE_SOURCE_DIR}" STREQUAL "${CMAKE_BINARY_DIR}")
  message(SEND_ERROR "In-source builds are not allowed.")
endif()

ADD_EXECUTABLE( Lab08 ${SOURCE.cpp} Main.cpp )

set(CMAKE_BUILD_TYPE Release)
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_FLAGS_DEBUG "-g -Wall -O0")
set(CMAKE_CXX_FLAGS_RELEASE "-Wall -O3")

